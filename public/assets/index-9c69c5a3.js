import{g as re,r as D,aK as Le,b5 as Pe,k as j,u as je,b6 as Ke,aN as Qe,w as Je,m as Ze,b7 as et,b8 as tt,aT as he,ah as ze,ai as Re,v as L,b9 as rt,T as Ue,aj as nt,ba as Fe,bb as st,bc as ot,bd as at,c as R,be as ve,a as K,b as te,d as ie,bf as it,p as lt,h as We,bg as ct,l as Ie,t as Ne,bh as Oe,bi as ut,n as dt,bj as ft,bk as pt,bl as ht,A as ne,bm as mt,bn as vt,H as fe,K as He,aQ as Ge,bo as me,a0 as t,L as ge,E as O,F as Q,G as r,U as G,R as d,am as X,S as n,X as e,ao as F,Z,Q as p,bp as Me,bq as gt,aI as bt,az as be,J as ye,br as Xe,bs as yt,bt as de,bu as ee,aq as Be,aA as Ee,bv as se,O as Ye,bw as wt,bx as xt,by as $e,W as De,bz as _t,al as Ct,bA as St,P as kt,bB as $t,bC as Tt,bD as zt,bE as pe,N as Et,aX as Pt,bF as Mt,bG as Bt}from"./index-2efe4620.js";import{_ as At}from"./titleBar.vue_vue_type_script_setup_true_lang-c8a01297.js";import{N as Ve,a as Te}from"./FormItem-6d94e26d.js";import{N as le}from"./Input-4816b01d.js";import{N as Rt}from"./LayoutSider-0c83106f.js";import{N as ue,a as It}from"./Tabs-d30e51ae.js";import"./Select-b45c26f7.js";import"./Add-1eab33c9.js";const Nt=re({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(i){const o=D(!!i.show),a=D(null),$=Le(Pe);let x=0,f="",u=null;const s=D(!1),l=D(!1),h=j(()=>i.placement==="top"||i.placement==="bottom"),{mergedClsPrefixRef:w,mergedRtlRef:C}=je(i),T=Ke("Drawer",C,w),z=B=>{l.value=!0,x=h.value?B.clientY:B.clientX,f=document.body.style.cursor,document.body.style.cursor=h.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",A),document.body.addEventListener("mouseleave",g),document.body.addEventListener("mouseup",N)},y=()=>{u!==null&&(window.clearTimeout(u),u=null),l.value?s.value=!0:u=window.setTimeout(()=>{s.value=!0},300)},c=()=>{u!==null&&(window.clearTimeout(u),u=null),s.value=!1},{doUpdateHeight:m,doUpdateWidth:M}=$,Y=B=>{const{maxWidth:U}=i;if(U&&B>U)return U;const{minWidth:W}=i;return W&&B<W?W:B},H=B=>{const{maxHeight:U}=i;if(U&&B>U)return U;const{minHeight:W}=i;return W&&B<W?W:B},A=B=>{var U,W;if(l.value)if(h.value){let V=((U=a.value)===null||U===void 0?void 0:U.offsetHeight)||0;const J=x-B.clientY;V+=i.placement==="bottom"?J:-J,V=H(V),m(V),x=B.clientY}else{let V=((W=a.value)===null||W===void 0?void 0:W.offsetWidth)||0;const J=x-B.clientX;V+=i.placement==="right"?J:-J,V=Y(V),M(V),x=B.clientX}},N=()=>{l.value&&(x=0,l.value=!1,document.body.style.cursor=f,document.body.removeEventListener("mousemove",A),document.body.removeEventListener("mouseup",N),document.body.removeEventListener("mouseleave",g))},g=N;Qe(()=>{i.show&&(o.value=!0)}),Je(()=>i.show,B=>{B||N()}),Ze(()=>{N()});const E=j(()=>{const{show:B}=i,U=[[Re,B]];return i.showMask||U.push([et,i.onClickoutside,void 0,{capture:!0}]),U});function I(){var B;o.value=!1,(B=i.onAfterLeave)===null||B===void 0||B.call(i)}return tt(j(()=>i.blockScroll&&o.value)),he(st,a),he(ot,null),he(at,null),{bodyRef:a,rtlEnabled:T,mergedClsPrefix:$.mergedClsPrefixRef,isMounted:$.isMountedRef,mergedTheme:$.mergedThemeRef,displayed:o,transitionName:j(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[i.placement]),handleAfterLeave:I,bodyDirectives:E,handleMousedownResizeTrigger:z,handleMouseenterResizeTrigger:y,handleMouseleaveResizeTrigger:c,isDragging:l,isHoverOnResizeTrigger:s}},render(){const{$slots:i,mergedClsPrefix:o}=this;return this.displayDirective==="show"||this.displayed||this.show?ze(L("div",{role:"none"},L(rt,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>L(Ue,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>ze(L("div",nt(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${o}-drawer`,this.rtlEnabled&&`${o}-drawer--rtl`,`${o}-drawer--${this.placement}-placement`,this.isDragging&&`${o}-drawer--unselectable`,this.nativeScrollbar&&`${o}-drawer--native-scrollbar`]}),[this.resizable?L("div",{class:[`${o}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${o}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?L("div",{class:[`${o}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},i):L(Fe,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${o}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),i)]),this.bodyDirectives)})})),[[Re,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:Ot,cubicBezierEaseOut:Dt}=ve;function Lt({duration:i="0.3s",leaveDuration:o="0.2s",name:a="slide-in-from-right"}={}){return[R(`&.${a}-transition-leave-active`,{transition:`transform ${o} ${Ot}`}),R(`&.${a}-transition-enter-active`,{transition:`transform ${i} ${Dt}`}),R(`&.${a}-transition-enter-to`,{transform:"translateX(0)"}),R(`&.${a}-transition-enter-from`,{transform:"translateX(100%)"}),R(`&.${a}-transition-leave-from`,{transform:"translateX(0)"}),R(`&.${a}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:jt,cubicBezierEaseOut:Ut}=ve;function Ft({duration:i="0.3s",leaveDuration:o="0.2s",name:a="slide-in-from-left"}={}){return[R(`&.${a}-transition-leave-active`,{transition:`transform ${o} ${jt}`}),R(`&.${a}-transition-enter-active`,{transition:`transform ${i} ${Ut}`}),R(`&.${a}-transition-enter-to`,{transform:"translateX(0)"}),R(`&.${a}-transition-enter-from`,{transform:"translateX(-100%)"}),R(`&.${a}-transition-leave-from`,{transform:"translateX(0)"}),R(`&.${a}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:Wt,cubicBezierEaseOut:Ht}=ve;function Gt({duration:i="0.3s",leaveDuration:o="0.2s",name:a="slide-in-from-top"}={}){return[R(`&.${a}-transition-leave-active`,{transition:`transform ${o} ${Wt}`}),R(`&.${a}-transition-enter-active`,{transition:`transform ${i} ${Ht}`}),R(`&.${a}-transition-enter-to`,{transform:"translateY(0)"}),R(`&.${a}-transition-enter-from`,{transform:"translateY(-100%)"}),R(`&.${a}-transition-leave-from`,{transform:"translateY(0)"}),R(`&.${a}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:Xt,cubicBezierEaseOut:Yt}=ve;function Vt({duration:i="0.3s",leaveDuration:o="0.2s",name:a="slide-in-from-bottom"}={}){return[R(`&.${a}-transition-leave-active`,{transition:`transform ${o} ${Xt}`}),R(`&.${a}-transition-enter-active`,{transition:`transform ${i} ${Yt}`}),R(`&.${a}-transition-enter-to`,{transform:"translateY(0)"}),R(`&.${a}-transition-enter-from`,{transform:"translateY(100%)"}),R(`&.${a}-transition-leave-from`,{transform:"translateY(0)"}),R(`&.${a}-transition-leave-to`,{transform:"translateY(100%)"})]}const qt=R([K("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[Lt(),Ft(),Gt(),Vt(),te("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),te("native-scrollbar",[K("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),ie("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[te("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),K("drawer-content-wrapper",`
 box-sizing: border-box;
 `),K("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[te("native-scrollbar",[K("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),K("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),K("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),K("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[ie("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),K("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),te("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-bottom-left-radius: var(--n-border-radius);
 `,[ie("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),te("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 border-top-right-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[ie("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),te("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[ie("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),te("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 `,[ie("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),R("body",[R(">",[K("drawer-container",`
 position: fixed;
 `)])]),K("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[R("> *",`
 pointer-events: all;
 `)]),K("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[te("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),it({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),Kt=Object.assign(Object.assign({},We.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Qt=re({name:"Drawer",inheritAttrs:!1,props:Kt,setup(i){const{mergedClsPrefixRef:o,namespaceRef:a,inlineThemeDisabled:$}=je(i),x=lt(),f=We("Drawer","-drawer",qt,ct,i,o),u=D(i.defaultWidth),s=D(i.defaultHeight),l=Ie(Ne(i,"width"),u),h=Ie(Ne(i,"height"),s),w=j(()=>{const{placement:g}=i;return g==="top"||g==="bottom"?"":Oe(l.value)}),C=j(()=>{const{placement:g}=i;return g==="left"||g==="right"?"":Oe(h.value)}),T=g=>{const{onUpdateWidth:E,"onUpdate:width":I}=i;E&&ne(E,g),I&&ne(I,g),u.value=g},z=g=>{const{onUpdateHeight:E,"onUpdate:width":I}=i;E&&ne(E,g),I&&ne(I,g),s.value=g},y=j(()=>[{width:w.value,height:C.value},i.drawerStyle||""]);function c(g){const{onMaskClick:E,maskClosable:I}=i;I&&H(!1),E&&E(g)}function m(g){c(g)}const M=ut();function Y(g){var E;(E=i.onEsc)===null||E===void 0||E.call(i),i.show&&i.closeOnEsc&&ht(g)&&!M.value&&H(!1)}function H(g){const{onHide:E,onUpdateShow:I,"onUpdate:show":B}=i;I&&ne(I,g),B&&ne(B,g),E&&!g&&ne(E,g)}he(Pe,{isMountedRef:x,mergedThemeRef:f,mergedClsPrefixRef:o,doUpdateShow:H,doUpdateHeight:z,doUpdateWidth:T});const A=j(()=>{const{common:{cubicBezierEaseInOut:g,cubicBezierEaseIn:E,cubicBezierEaseOut:I},self:{color:B,textColor:U,boxShadow:W,lineHeight:V,headerPadding:J,footerPadding:we,borderRadius:xe,bodyPadding:_e,titleFontSize:Ce,titleTextColor:oe,titleFontWeight:ce,headerBorderBottom:Se,footerBorderTop:ke,closeIconColor:k,closeIconColorHover:b,closeIconColorPressed:v,closeColorHover:_,closeColorPressed:S,closeIconSize:P,closeSize:q,closeBorderRadius:ae,resizableTriggerColorHover:Ae}}=f.value;return{"--n-line-height":V,"--n-color":B,"--n-border-radius":xe,"--n-text-color":U,"--n-box-shadow":W,"--n-bezier":g,"--n-bezier-out":I,"--n-bezier-in":E,"--n-header-padding":J,"--n-body-padding":_e,"--n-footer-padding":we,"--n-title-text-color":oe,"--n-title-font-size":Ce,"--n-title-font-weight":ce,"--n-header-border-bottom":Se,"--n-footer-border-top":ke,"--n-close-icon-color":k,"--n-close-icon-color-hover":b,"--n-close-icon-color-pressed":v,"--n-close-size":q,"--n-close-color-hover":_,"--n-close-color-pressed":S,"--n-close-icon-size":P,"--n-close-border-radius":ae,"--n-resize-trigger-color-hover":Ae}}),N=$?dt("drawer",void 0,A,i):void 0;return{mergedClsPrefix:o,namespace:a,mergedBodyStyle:y,handleOutsideClick:m,handleMaskClick:c,handleEsc:Y,mergedTheme:f,cssVars:$?void 0:A,themeClass:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender,isMounted:x}},render(){const{mergedClsPrefix:i}=this;return L(pt,{to:this.to,show:this.show},{default:()=>{var o;return(o=this.onRender)===null||o===void 0||o.call(this),ze(L("div",{class:[`${i}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?L(Ue,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?L("div",{"aria-hidden":!0,class:[`${i}-drawer-mask`,this.showMask==="transparent"&&`${i}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,L(Nt,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[ft,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Jt={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Zt=re({name:"DrawerContent",props:Jt,setup(){const i=Le(Pe,null);i||mt("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:o}=i;function a(){o(!1)}return{handleCloseClick:a,mergedTheme:i.mergedThemeRef,mergedClsPrefix:i.mergedClsPrefixRef}},render(){const{title:i,mergedClsPrefix:o,nativeScrollbar:a,mergedTheme:$,bodyClass:x,bodyStyle:f,bodyContentClass:u,bodyContentStyle:s,headerClass:l,headerStyle:h,footerClass:w,footerStyle:C,scrollbarProps:T,closable:z,$slots:y}=this;return L("div",{role:"none",class:[`${o}-drawer-content`,a&&`${o}-drawer-content--native-scrollbar`]},y.header||i||z?L("div",{class:[`${o}-drawer-header`,l],style:h,role:"none"},L("div",{class:`${o}-drawer-header__main`,role:"heading","aria-level":"1"},y.header!==void 0?y.header():i),z&&L(vt,{onClick:this.handleCloseClick,clsPrefix:o,class:`${o}-drawer-header__close`,absolute:!0})):null,a?L("div",{class:[`${o}-drawer-body`,x],style:f,role:"none"},L("div",{class:[`${o}-drawer-body-content-wrapper`,u],style:s,role:"none"},y)):L(Fe,Object.assign({themeOverrides:$.peerOverrides.Scrollbar,theme:$.peers.Scrollbar},T,{class:`${o}-drawer-body`,contentClass:[`${o}-drawer-body-content-wrapper`,u],contentStyle:s}),y),y.footer?L("div",{class:[`${o}-drawer-footer`,w],style:C,role:"none"},y.footer()):null)}}),er={class:"flex flex-col justify-center items-center"},tr={class:"text-2xl text-primary self-start mb-3 flex justify-between w-full"},rr=r("span",null,"Profile",-1),nr={class:"mt-3 text-lg text-[#555]"},sr={class:"text-[#95aac9] mt-2"},or={class:"self-start"},ar={class:"flex pl-3 pt-3 text-base font-bold text-primary"},ir={key:0,class:"flex pl-3 pt-3 text-base font-bold text-primary"},lr={class:"flex items-center space-x-4 pl-3 mt-3"},cr={class:"flex-shrink-0 w-24 text-primary"},ur={class:"w-[200px]"},dr={class:"flex items-center space-x-4 pl-3 mt-3"},fr={class:"flex-shrink-0 w-24 text-primary"},pr={class:"w-[200px]"},hr={class:"flex items-center space-x-4 pl-3 mt-3"},mr={class:"flex-shrink-0 w-24 text-primary"},vr={class:"w-[200px]"},gr={key:1,class:"flex items-center space-x-4 pl-3 mt-3"},br={class:"flex-shrink-0 w-24 text-primary"},yr={class:"w-[200px]"},wr={key:1},xr=re({__name:"detail",setup(i){const o=fe(),a=He(),{userBalance:$}=o,x=Ge(),f=j(()=>o.userInfo.email||""),u=j(()=>o.userInfo.isBindWx),s=D(o.userInfo.avatar??me),l=D(o.userInfo.username??t("usercenter.notLoggedIn"));D(o.userInfo.sign??t("usercenter.defaultSignature"));const h=j(()=>Number(o.globalConfig.wechatRegisterStatus)===1);function w(){o.logOut(),a.push("/")}const C=j(()=>o.isLogin);return ge(()=>{C.value||o.setLoginDialog(!0)}),(T,z)=>(O(),Q("div",er,[r("div",tr,[rr,C.value?(O(),G(e(F),{key:0,tertiary:"",type:"error",onClick:w},{default:d(()=>[X(n(e(t)("usercenter.logOut")),1)]),_:1})):Z("",!0),C.value?Z("",!0):(O(),G(e(F),{key:1,tertiary:"",type:"success",onClick:z[0]||(z[0]=y=>e(o).setLoginDialog(!0))},{default:d(()=>[X(n(e(t)("usercenter.clickToLogin")),1)]),_:1}))]),p(e(Me),{size:148,src:s.value,"fallback-src":e(me)},null,8,["src","fallback-src"]),r("b",nr,n(l.value),1),r("span",sr,n(f.value),1),r("div",or,[r("div",ar,[r("span",null,n(e(t)("usercenter.myUsageRecord")),1)]),e($).expirationTime?(O(),Q("div",ir,[r("span",null,n(e(t)("usercenter.membershipExpiration")),1),r("span",null,n(e($).expirationTime),1)])):Z("",!0),r("div",lr,[r("span",cr,n(e(t)("usercenter.basicModelCredits")),1),r("div",ur,n(e($).sumModel3Count||"0")+" "+n(e(t)("usercenter.points")),1)]),r("div",dr,[r("span",fr,n(e(t)("usercenter.advancedModelCredits")),1),r("div",pr,n(e($).sumModel4Count||"0")+" "+n(e(t)("usercenter.points")),1)]),r("div",hr,[r("span",mr,n(e(t)("usercenter.drawingUsageCredits")),1),r("div",vr,n(e($).sumDrawMjCount||"0")+" "+n(e(t)("usercenter.points")),1)]),h.value?(O(),Q("div",gr,[r("span",br,n(e(t)("usercenter.bindWeChat")),1),r("div",yr,[u.value?(O(),Q("span",wr,n(e(t)("usercenter.weChatBound")),1)):(O(),G(e(F),{key:0,text:"",onClick:z[1]||(z[1]=y=>e(x).updateBindwxDialog(!0))},{default:d(()=>[X(n(e(t)("usercenter.clickToBindWeChat")),1)]),_:1}))])])):Z("",!0)])]))}});var qe={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(i,o){(function($,x){i.exports=x()})(gt,function(){return function(){var a={686:function(f,u,s){s.d(u,{default:function(){return ke}});var l=s(279),h=s.n(l),w=s(370),C=s.n(w),T=s(817),z=s.n(T);function y(k){try{return document.execCommand(k)}catch{return!1}}var c=function(b){var v=z()(b);return y("cut"),v},m=c;function M(k){var b=document.documentElement.getAttribute("dir")==="rtl",v=document.createElement("textarea");v.style.fontSize="12pt",v.style.border="0",v.style.padding="0",v.style.margin="0",v.style.position="absolute",v.style[b?"right":"left"]="-9999px";var _=window.pageYOffset||document.documentElement.scrollTop;return v.style.top="".concat(_,"px"),v.setAttribute("readonly",""),v.value=k,v}var Y=function(b,v){var _=M(b);v.container.appendChild(_);var S=z()(_);return y("copy"),_.remove(),S},H=function(b){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},_="";return typeof b=="string"?_=Y(b,v):b instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(b==null?void 0:b.type)?_=Y(b.value,v):(_=z()(b),y("copy")),_},A=H;function N(k){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N=function(v){return typeof v}:N=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},N(k)}var g=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=b.action,_=v===void 0?"copy":v,S=b.container,P=b.target,q=b.text;if(_!=="copy"&&_!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(P!==void 0)if(P&&N(P)==="object"&&P.nodeType===1){if(_==="copy"&&P.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(_==="cut"&&(P.hasAttribute("readonly")||P.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(q)return A(q,{container:S});if(P)return _==="cut"?m(P):A(P,{container:S})},E=g;function I(k){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I=function(v){return typeof v}:I=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},I(k)}function B(k,b){if(!(k instanceof b))throw new TypeError("Cannot call a class as a function")}function U(k,b){for(var v=0;v<b.length;v++){var _=b[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(k,_.key,_)}}function W(k,b,v){return b&&U(k.prototype,b),v&&U(k,v),k}function V(k,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(b&&b.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),b&&J(k,b)}function J(k,b){return J=Object.setPrototypeOf||function(_,S){return _.__proto__=S,_},J(k,b)}function we(k){var b=Ce();return function(){var _=oe(k),S;if(b){var P=oe(this).constructor;S=Reflect.construct(_,arguments,P)}else S=_.apply(this,arguments);return xe(this,S)}}function xe(k,b){return b&&(I(b)==="object"||typeof b=="function")?b:_e(k)}function _e(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function Ce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function oe(k){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},oe(k)}function ce(k,b){var v="data-clipboard-".concat(k);if(b.hasAttribute(v))return b.getAttribute(v)}var Se=function(k){V(v,k);var b=we(v);function v(_,S){var P;return B(this,v),P=b.call(this),P.resolveOptions(S),P.listenClick(_),P}return W(v,[{key:"resolveOptions",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof S.action=="function"?S.action:this.defaultAction,this.target=typeof S.target=="function"?S.target:this.defaultTarget,this.text=typeof S.text=="function"?S.text:this.defaultText,this.container=I(S.container)==="object"?S.container:document.body}},{key:"listenClick",value:function(S){var P=this;this.listener=C()(S,"click",function(q){return P.onClick(q)})}},{key:"onClick",value:function(S){var P=S.delegateTarget||S.currentTarget,q=this.action(P)||"copy",ae=E({action:q,container:this.container,target:this.target(P),text:this.text(P)});this.emit(ae?"success":"error",{action:q,text:ae,trigger:P,clearSelection:function(){P&&P.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(S){return ce("action",S)}},{key:"defaultTarget",value:function(S){var P=ce("target",S);if(P)return document.querySelector(P)}},{key:"defaultText",value:function(S){return ce("text",S)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return A(S,P)}},{key:"cut",value:function(S){return m(S)}},{key:"isSupported",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],P=typeof S=="string"?[S]:S,q=!!document.queryCommandSupported;return P.forEach(function(ae){q=q&&!!document.queryCommandSupported(ae)}),q}}]),v}(h()),ke=Se},828:function(f){var u=9;if(typeof Element<"u"&&!Element.prototype.matches){var s=Element.prototype;s.matches=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector}function l(h,w){for(;h&&h.nodeType!==u;){if(typeof h.matches=="function"&&h.matches(w))return h;h=h.parentNode}}f.exports=l},438:function(f,u,s){var l=s(828);function h(T,z,y,c,m){var M=C.apply(this,arguments);return T.addEventListener(y,M,m),{destroy:function(){T.removeEventListener(y,M,m)}}}function w(T,z,y,c,m){return typeof T.addEventListener=="function"?h.apply(null,arguments):typeof y=="function"?h.bind(null,document).apply(null,arguments):(typeof T=="string"&&(T=document.querySelectorAll(T)),Array.prototype.map.call(T,function(M){return h(M,z,y,c,m)}))}function C(T,z,y,c){return function(m){m.delegateTarget=l(m.target,z),m.delegateTarget&&c.call(T,m)}}f.exports=w},879:function(f,u){u.node=function(s){return s!==void 0&&s instanceof HTMLElement&&s.nodeType===1},u.nodeList=function(s){var l=Object.prototype.toString.call(s);return s!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in s&&(s.length===0||u.node(s[0]))},u.string=function(s){return typeof s=="string"||s instanceof String},u.fn=function(s){var l=Object.prototype.toString.call(s);return l==="[object Function]"}},370:function(f,u,s){var l=s(879),h=s(438);function w(y,c,m){if(!y&&!c&&!m)throw new Error("Missing required arguments");if(!l.string(c))throw new TypeError("Second argument must be a String");if(!l.fn(m))throw new TypeError("Third argument must be a Function");if(l.node(y))return C(y,c,m);if(l.nodeList(y))return T(y,c,m);if(l.string(y))return z(y,c,m);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function C(y,c,m){return y.addEventListener(c,m),{destroy:function(){y.removeEventListener(c,m)}}}function T(y,c,m){return Array.prototype.forEach.call(y,function(M){M.addEventListener(c,m)}),{destroy:function(){Array.prototype.forEach.call(y,function(M){M.removeEventListener(c,m)})}}}function z(y,c,m){return h(document.body,y,c,m)}f.exports=w},817:function(f){function u(s){var l;if(s.nodeName==="SELECT")s.focus(),l=s.value;else if(s.nodeName==="INPUT"||s.nodeName==="TEXTAREA"){var h=s.hasAttribute("readonly");h||s.setAttribute("readonly",""),s.select(),s.setSelectionRange(0,s.value.length),h||s.removeAttribute("readonly"),l=s.value}else{s.hasAttribute("contenteditable")&&s.focus();var w=window.getSelection(),C=document.createRange();C.selectNodeContents(s),w.removeAllRanges(),w.addRange(C),l=w.toString()}return l}f.exports=u},279:function(f){function u(){}u.prototype={on:function(s,l,h){var w=this.e||(this.e={});return(w[s]||(w[s]=[])).push({fn:l,ctx:h}),this},once:function(s,l,h){var w=this;function C(){w.off(s,C),l.apply(h,arguments)}return C._=l,this.on(s,C,h)},emit:function(s){var l=[].slice.call(arguments,1),h=((this.e||(this.e={}))[s]||[]).slice(),w=0,C=h.length;for(w;w<C;w++)h[w].fn.apply(h[w].ctx,l);return this},off:function(s,l){var h=this.e||(this.e={}),w=h[s],C=[];if(w&&l)for(var T=0,z=w.length;T<z;T++)w[T].fn!==l&&w[T].fn._!==l&&C.push(w[T]);return C.length?h[s]=C:delete h[s],this}},f.exports=u,f.exports.TinyEmitter=u}},$={};function x(f){if($[f])return $[f].exports;var u=$[f]={exports:{}};return a[f](u,u.exports,x),u.exports}return function(){x.n=function(f){var u=f&&f.__esModule?function(){return f.default}:function(){return f};return x.d(u,{a:u}),u}}(),function(){x.d=function(f,u){for(var s in u)x.o(u,s)&&!x.o(f,s)&&Object.defineProperty(f,s,{enumerable:!0,get:u[s]})}}(),function(){x.o=function(f,u){return Object.prototype.hasOwnProperty.call(f,u)}}(),x(686)}().default})})(qe);var _r=qe.exports;const Cr=bt(_r),Sr=i=>{const o=(i==null?void 0:i.appendToBody)===void 0?!0:i.appendToBody;return{toClipboard(a,$){return new Promise((x,f)=>{const u=document.createElement("button"),s=new Cr(u,{text:()=>a,action:()=>"copy",container:$!==void 0?$:document.body});s.on("success",l=>{s.destroy(),x(l)}),s.on("error",l=>{s.destroy(),f(l)}),o&&document.body.appendChild(u),u.click(),o&&document.body.removeChild(u)})}}},kr={class:"text-[#95aac9] mb-2 text-base"},$r={class:"text-2xl text-[#555] dark:text-[#fff] whitespace-nowrap"},Tr=r("b",{class:"text-[000]"},"Tips",-1),zr={class:"flex flex-col text-[#707384]"},Er=re({__name:"invite",setup(i){const{toClipboard:o}=Sr(),a=fe(),$=j(()=>a.userInfo.inviteCode),x=j(()=>a.globalConfig),{isSmallXl:f,isMobile:u}=be(),s=ye(),l=D(!1),h=Xe({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:c=>{h.page=c,z()},onUpdatePageSize:c=>{h.pageSize=c,h.page=1,z()}}),w=j(()=>[{title:t("usercenter.avatar"),key:"avatar",render(c){return L(Me,{src:c.avatar,size:"small",round:!0})}},{title:t("usercenter.username"),key:"username"},{title:t("usercenter.email"),key:"email"},{title:t("usercenter.inviteeStatus"),key:"status",render(c){return L(F,{type:c.status===1?"primary":"error",size:"small",round:!0,quaternary:!0},{default:()=>c.status===1?t("usercenter.certified"):t("usercenter.notActivated")})}},{title:t("usercenter.inviteTime"),key:"createdAt",render(c){return L("div",{style:{fontSize:"12px",color:"#999"}},()=>c.createdAt)}},{title:t("usercenter.rewardStatus"),key:"status",render(c){return L(F,{type:c.status===1?"success":"warning",size:"small",round:!0,quaternary:!0},{default:()=>c.status===1?t("usercenter.rewardReceived"):t("usercenter.waitingConfirmation")})}}]),C=D([]);async function T(){const c=await wt();if(!c.data)return s.error(c.message);s.error(t("usercenter.linkGeneratedSuccess")),a.getUserInfo()}async function z(){try{l.value=!0;const c=await yt({page:h.page,size:h.pageSize});C.value=c.data.rows,l.value=!1}catch{l.value=!1}}async function y(){if(!$.value)return s.error(t("usercenter.generateLinkFirst"));const c=`${window.location.href}?inVitecode=${$.value}`;try{await o(c),s.success(t("usercenter.linkCopiedSuccess"))}catch{s.error(t("usercenter.copyNotSupported"))}}return ge(()=>{z()}),(c,m)=>(O(),Q(Ye,null,[p(e(se),null,{header:d(()=>[r("div",null,n(e(t)("usercenter.inviteForBenefits")),1)]),default:d(()=>[p(e(de),{"x-gap":24,"y-gap":24,cols:e(f)?1:3,class:"mt-3"},{default:d(()=>{var M;return[p(e(ee),{class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:2},{default:d(()=>[r("div",kr,n(e(t)("usercenter.myInviteCode")),1),r("div",{class:Ee(["flex justify-between",[e(f)?"flex-col mt-3":""]])},[r("b",$r,n($.value||"********"),1),p(e(Be),{class:Ee([e(f)?" mt-3":""])},{default:d(()=>[p(e(F),{type:"success",onClick:T},{default:d(()=>[X(n(e(t)("usercenter.generateInviteCode")),1)]),_:1}),p(e(F),{type:"primary",onClick:y},{default:d(()=>[X(n(e(t)("usercenter.copyInviteLink")),1)]),_:1})]),_:1},8,["class"])],2)]),_:1}),Number((M=x.value)==null?void 0:M.inviteSendStatus)===1?(O(),G(e(ee),{key:0,class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:1},{default:d(()=>[Tr,r("div",zr,[r("span",null,n(e(t)("usercenter.inviteOneUser")),1),r("span",null,n(x.value.inviteGiveSendModel3Count)+" "+n(e(t)("usercenter.basicModelCredits"))+" "+n(x.value.inviteGiveSendModel4Count)+" "+n(e(t)("usercenter.advancedModelCredits"))+" "+n(x.value.inviteGiveSendDrawMjCount)+" "+n(e(t)("usercenter.mjDrawingCredits")),1),r("span",null,n(e(t)("usercenter.receiveInvitation")),1),r("span",null,n(x.value.invitedGuestSendModel3Count)+" "+n(e(t)("usercenter.basicModelCredits"))+" "+n(x.value.invitedGuestSendModel4Count)+" "+n(e(t)("usercenter.advancedModelCredits"))+" "+n(x.value.invitedGuestSendDrawMjCount)+" "+n(e(t)("usercenter.mjDrawingCredits")),1)])]),_:1})):Z("",!0)]}),_:1},8,["cols"])]),_:1}),p(e(se),{class:"mt-5"},{header:d(()=>[r("div",null,n(e(t)("usercenter.invitationRecord")),1)]),default:d(()=>[p(e(Ve),{loading:l.value,remote:!0,"pagination-behavior-on-filter":"first",class:"min-h-[350px]",columns:w.value,data:C.value,pagination:h,"scroll-x":500},null,8,["loading","columns","data","pagination"])]),_:1})],64))}}),Pr={class:"flex justify-between"},Mr={class:"text-[#95AAC9]"},Br={class:"text-base"},Ar={class:"text-[#95AAC9] mt-3"},Rr={class:"ml-3 text-[#95AAC9] mt-2"},Ir={class:"ml-3 text-[#95AAC9] mt-2"},Nr={class:"ml-3 text-[#95AAC9] mt-2"},Or=re({__name:"password",setup(i){const o=D({oldPassword:"",password:"",reenteredPassword:""}),a=o,$=D(null),x=D(null),f={oldPassword:[{required:!0,min:6,message:t("usercenter.passwordMinLength"),trigger:["blur"]},{required:!0,max:30,message:t("usercenter.passwordMaxLength"),trigger:["blur"]}],password:[{required:!0,message:t("usercenter.enterPassword")}],reenteredPassword:[{required:!0,message:t("usercenter.reenterPassword"),trigger:["input","blur"]},{validator:u,message:t("usercenter.passwordsNotMatch"),trigger:"input"},{validator:s,message:t("usercenter.passwordsNotMatch"),trigger:["blur","password-input"]}]};function u(c,m){return!!o.value.password&&o.value.password.startsWith(m)&&o.value.password.length>=m.length}function s(c,m){return m===o.value.password}function l(){var c;o.value.reenteredPassword&&((c=x.value)==null||c.validate({trigger:"password-input"}))}const{isSmallXl:h}=be(),w=fe(),C=ye();async function T(c){await _t(c),C.success(t("usercenter.passwordUpdateSuccess")),z(),w.updatePasswordSuccess()}function z(){o.value={oldPassword:"",password:"",reenteredPassword:""}}function y(c){var m;c.preventDefault(),(m=$.value)==null||m.validate(async M=>{if(!M){const{oldPassword:Y,password:H}=o.value;T({oldPassword:Y,password:H})}})}return(c,m)=>(O(),G(e(se),null,{header:d(()=>[r("div",null,n(e(t)("usercenter.changeYourPassword")),1)]),default:d(()=>[p(e(de),{"x-gap":24,"y-gap":24,cols:e(h)?1:3,class:"mt-3"},{default:d(()=>[p(e(ee),{class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:"2"},{default:d(()=>[p(e(xt),{ref_key:"formRef",ref:$,model:e(a),rules:f},{default:d(()=>[p(e(Te),{path:"oldPassword",label:e(t)("usercenter.oldPassword")},{default:d(()=>[p(e(le),{value:e(a).oldPassword,"onUpdate:value":m[0]||(m[0]=M=>e(a).oldPassword=M),onKeydown:m[1]||(m[1]=$e(De(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1},8,["label"]),p(e(Te),{path:"password",label:e(t)("usercenter.newPassword")},{default:d(()=>[p(e(le),{value:e(a).password,"onUpdate:value":m[2]||(m[2]=M=>e(a).password=M),type:"password",onInput:l,onKeydown:m[3]||(m[3]=$e(De(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1},8,["label"]),p(e(Te),{ref_key:"rPasswordFormItemRef",ref:x,first:"",path:"reenteredPassword",label:e(t)("usercenter.confirmPassword")},{default:d(()=>[p(e(le),{value:e(a).reenteredPassword,"onUpdate:value":m[4]||(m[4]=M=>e(a).reenteredPassword=M),disabled:!e(a).password,type:"password",tabindex:"0",onKeyup:$e(y,["enter"])},null,8,["value","disabled"])]),_:1},8,["label"]),r("div",Pr,[r("span",Mr,n(e(t)("usercenter.reloginAfterPasswordChange")),1),p(e(F),{disabled:e(a).oldPassword===null,type:"primary",onClick:y},{default:d(()=>[X(n(e(t)("usercenter.updateYourPassword")),1)]),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1}),p(e(ee),{class:"border rounded-sm p-3 bg-[#f8f9fa] h-48 dark:bg-[#18181c] dark:border-[#ffffff17]"},{default:d(()=>[r("b",Br,n(e(t)("usercenter.passwordRequirements")),1),r("p",Ar,n(e(t)("usercenter.newPasswordInstructions")),1),r("div",Rr,n(e(t)("usercenter.minimumCharacters")),1),r("div",Ir,n(e(t)("usercenter.maximumCharacters")),1),r("div",Nr,n(e(t)("usercenter.requireNumber")),1)]),_:1})]),_:1},8,["cols"])]),_:1}))}}),Dr={1:t("rechargeTypes.1"),2:t("rechargeTypes.2"),3:t("rechargeTypes.3"),4:t("rechargeTypes.4"),5:t("rechargeTypes.5"),6:t("rechargeTypes.6"),7:t("rechargeTypes.7"),8:t("rechargeTypes.8")};t("orderStatus.0"),t("orderStatus.1"),t("orderStatus.2"),t("orderStatus.3");const Lr={class:"flex h-full flex-col"},jr={class:"text-[#95aac9] mb-2 text-base"},Ur={class:"text-3xl text-[#555]"},Fr={class:"ml-4 text-[#989898]"},Wr={class:"text-[#95aac9] mb-2 text-base"},Hr={class:"text-3xl text-[#555]"},Gr={class:"ml-4 text-[#989898]"},Xr={class:"text-[#95aac9] mb-2 text-base"},Yr={class:"text-3xl text-[#555]"},Vr={class:"ml-4 text-[#989898]"},qr={class:"text-[#95aac9] mb-2 text-base"},Kr={class:"relative"},Qr=["src"],Jr={class:"flex justify-between items-end min-h-28"},Zr={class:"text-sm font-bold mr-1"},en={class:"font-bold"},tn={class:"flex justify-between items-end min-h-28"},rn={class:"text-sm font-bold mr-1"},nn={class:"font-bold"},sn={class:"flex justify-between items-end min-h-28"},on={class:"text-sm font-bold mr-1"},an={class:"font-bold"},ln={class:"flex justify-between items-end mt-5"},cn={class:"text-xl text-[red] font-bold"},un=re({__name:"wallet",setup(i){const{isSmallMd:o,isMobile:a}=be(),$=fe(),x=ye();Ct();const f=j(()=>$.userBalance),u=D(!1),s=D(""),l=D(!1),h=D([]),w=D(!1),C=Xe({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:A=>{C.page=A,y()},onUpdatePageSize:A=>{C.pageSize=A,C.page=1,y()}}),T=j(()=>[{title:t("usercenter.orderNumber"),key:"uid"},{title:t("usercenter.rechargeType"),key:"rechargeType",render(A){return Dr[A.rechargeType]}},{title:t("usercenter.basicModelQuota"),key:"model3Count"},{title:t("usercenter.advancedModelQuota"),key:"model4Count"},{title:t("usercenter.mjDrawingQuota"),key:"drawMjCount"},{title:t("usercenter.validity"),key:"expireDateCn"},{title:t("usercenter.rechargeTime"),key:"createdAt",render(A){return A.createdAt}}]),z=D([]);async function y(){const A=await St({page:C.page,size:C.pageSize}),{rows:N}=A.data;z.value=N}async function c(){x.warning(t("usercenter.enterCardSecret"));try{u.value=!0,await $t({code:s.value}),x.success(t("usercenter.cardRedeemSuccess")),y(),$.getUserInfo(),u.value=!1}catch{x.error(t("usercenter.unknownError")),u.value=!1}}function m(){l.value=!0}async function M(){const A=await Tt({status:1,size:30});h.value=A.data.rows}const Y=j(()=>{var A;return(A=$.globalConfig)==null?void 0:A.buyCramiAddress});function H(){window.open(Y.value)}return ge(()=>{y()}),(A,N)=>(O(),Q("div",Lr,[p(e(se),null,{header:d(()=>[r("div",null,n(e(t)("usercenter.userWalletBalance")),1)]),default:d(()=>[p(e(de),{"x-gap":24,"y-gap":24,cols:e(o)?1:2,class:"mt-3"},{default:d(()=>[p(e(ee),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:d(()=>[r("div",jr,n(e(t)("usercenter.basicModelBalance")),1),r("b",Ur,n(f.value.sumModel3Count??0),1),r("span",Fr,n(e(t)("usercenter.creditUsageNote")),1)]),_:1}),p(e(ee),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:d(()=>[r("div",Wr,n(e(t)("usercenter.advancedModelBalance")),1),r("b",Hr,n(f.value.sumModel4Count??0),1),r("span",Gr,n(e(t)("usercenter.modelConsumptionNote")),1)]),_:1}),p(e(ee),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:d(()=>[r("div",Xr,n(e(t)("usercenter.mjDrawingBalance")),1),r("b",Yr,n(f.value.sumDrawMjCount??0),1),r("span",Vr,n(e(t)("usercenter.drawingConsumptionNote")),1)]),_:1}),p(e(ee),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:d(()=>[r("div",qr,n(e(t)("usercenter.cardRecharge")),1),p(e(Be),{wrap:!1},{default:d(()=>[p(e(le),{value:s.value,"onUpdate:value":N[0]||(N[0]=g=>s.value=g),placeholder:e(t)("usercenter.enterCardDetails"),class:"mr-3",maxlength:"128","show-count":"",clearable:""},null,8,["value","placeholder"]),p(e(F),{type:"primary",loading:u.value,onClick:c},{default:d(()=>[X(n(e(t)("usercenter.exchange")),1)]),_:1},8,["loading"]),Y.value?(O(),G(e(F),{key:0,type:"success",onClick:m},{default:d(()=>[X(n(e(t)("usercenter.buyCardSecret")),1)]),_:1})):Z("",!0)]),_:1})]),_:1})]),_:1},8,["cols"])]),_:1}),p(e(se),{class:"mt-5 flex-1"},{header:d(()=>[r("div",null,n(e(t)("usercenter.rechargeRecords")),1)]),default:d(()=>[p(e(Ve),{columns:T.value,loading:w.value,"scroll-x":800,data:z.value,"max-height":"280",pagination:C},null,8,["columns","loading","data","pagination"])]),_:1}),p(e(Qt),{show:l.value,"onUpdate:show":N[1]||(N[1]=g=>l.value=g),width:e(o)?"100%":502,"on-after-enter":M},{default:d(()=>[p(e(Zt),{title:"{{ t('usercenter.packagePurchase') }}",closable:""},{default:d(()=>[p(e(de),{"x-gap":15,"y-gap":15,cols:e(o)?1:2,class:"mt-3"},{default:d(()=>[(O(!0),Q(Ye,null,kt(h.value,(g,E)=>(O(),G(e(ee),{key:E},{default:d(()=>[p(e(se),{size:"small",embedded:""},{header:d(()=>[r("div",Kr,[r("b",null,n(g.name),1)])]),cover:d(()=>[r("img",{src:g.coverImg},null,8,Qr)]),default:d(()=>[r("div",null,[r("p",null,n(g.des),1),r("div",Jr,[r("span",Zr,n(e(t)("usercenter.basicModelQuota")),1),r("span",en,n(g.model3Count),1)]),r("div",tn,[r("span",rn,n(e(t)("usercenter.advancedModelQuota")),1),r("span",nn,n(g.model4Count),1)]),r("div",sn,[r("span",on,n(e(t)("usercenter.mjDrawingQuota")),1),r("span",an,n(g.drawMjCount),1)]),r("div",ln,[r("i",cn,n(`￥${g.price}`),1),p(e(F),{type:"primary",dashed:"",size:"small",onClick:H},{default:d(()=>[X(n(e(t)("usercenter.buyPackage")),1)]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["cols"])]),_:1})]),_:1},8,["show","width"])]))}}),dn={class:"flex flex-col justify-center items-center"},fn={class:"text-2xl text-primary self-start mb-14 flex justify-between w-full"},pn={class:"mt-3 text-lg text-[#555]"},hn={class:"self-start mt-16"},mn={class:"text-xl text-primary"},vn={class:"flex items-center space-x-4 pl-3 mt-3"},gn={class:"flex-shrink-0 w-[150px] text-keft text-primary"},bn={class:"w-[230px]"},yn={class:"flex items-center space-x-4 pl-3 mt-3"},wn={class:"flex-shrink-0 w-[150px] text-keft text-primary"},xn={class:"w-[230px]"},_n={class:"flex items-center space-x-4 pl-3 mt-3"},Cn={class:"flex-shrink-0 w-[150px] text-keft text-primary"},Sn={class:"w-[230px]"},kn={class:"flex items-center space-x-4 pl-3 mt-3"},$n={class:"flex-shrink-0 w-[150px] text-keft text-primary"},Tn={class:"w-[230px]"},zn={class:"flex items-center space-x-4 pl-3 mt-3"},En={class:"flex-shrink-0 w-[150px] text-keft text-primary"},Pn={class:"w-[230px]"},Mn={key:0,class:"flex items-center space-x-4 pl-3 mt-3"},Bn={class:"flex-shrink-0 w-[150px] text-keft text-primary"},An={class:"w-[230px]"},Rn={key:1},In={key:1,class:"flex items-center space-x-4 pl-3 mt-3"},Nn={class:"flex-shrink-0 w-[150px] text-keft text-primary"},On={class:"w-[230px]"},Dn={key:0,class:"flex text-[red] pt-8 text-base font-bold"},Ln={key:1},jn={class:"flex items-center space-x-4"},Un={class:"flex-shrink-0 w-[60px]"},Fn={class:"flex-1"},Wn={class:"flex items-center space-x-4 mt-5"},Hn={class:"flex-shrink-0 w-[60px]"},Gn={class:"flex-1"},es=re({__name:"index",setup(i){const o=Ge(),a=fe(),$=He(),x=D(0),f=j(()=>a.userBalance),u=j(()=>{var g;return(g=a.globalConfig)==null?void 0:g.isUseWxLogin}),s=j(()=>Number(a.globalConfig.wechatRegisterStatus)===1),l=D(!0),h=j(()=>a.isLogin),w=ye();j(()=>a.userInfo.email||"");const C=j(()=>a.userInfo.isBindWx),T=D(a.userInfo.avatar??me),z=D(a.userInfo.username??"未登录");D(a.userInfo.sign??t("usercenter.defaultSignature"));const y=D(!1),{isSmallLg:c,isMobile:m}=be();async function M(){const g=await zt();x.value=g.data||0}async function Y(){(await Mt()).success&&w.success(t("usercenter.syncComplete")),M()}async function H(g){try{y.value=!0;const E=await Bt(g);if(y.value=!1,!E.success)return w.error(E.message);w.success(t("common.updateUserSuccess")),a.getUserInfo()}catch{y.value=!1}}function A(){h.value||($.push("/"),a.setLoginDialog(!0))}ge(()=>{A(),M()});function N(){a.logOut(),$.push("/")}return setTimeout(()=>{l.value=!1},500),(g,E)=>(O(),G(e(Pt),{"has-sider":"",class:"flex h-full"},{default:d(()=>[e(c)?Z("",!0):(O(),G(e(Rt),{key:0,"content-style":"padding: 24px;",bordered:"",width:"380"},{default:d(()=>[r("div",dn,[r("div",fn,[r("span",null,n(e(t)("usercenter.personalCenter")),1),p(e(F),{tertiary:"",type:"error",onClick:N},{default:d(()=>[X(n(e(t)("usercenter.logOut")),1)]),_:1})]),p(e(Me),{size:148,src:T.value,"fallback-src":e(me)},null,8,["src","fallback-src"]),r("b",pn,n(z.value),1),r("div",hn,[r("div",mn,n(e(t)("usercenter.myUsageRecord")),1),r("div",vn,[r("span",gn,n(e(t)("usercenter.basicModelCredits")),1),r("div",bn,n(f.value.useModel3Count||"0")+" "+n(e(t)("usercenter.points")),1)]),r("div",yn,[r("span",wn,n(e(t)("usercenter.advancedModelCredits")),1),r("div",xn,n(f.value.useModel4Count||"0")+" "+n(e(t)("usercenter.points")),1)]),r("div",_n,[r("span",Cn,n(e(t)("usercenter.basicModelUsage")),1),r("div",Sn,n(f.value.useModel3Token||"0")+" Token ",1)]),r("div",kn,[r("span",$n,n(e(t)("usercenter.advancedModelUsage")),1),r("div",Tn,n(f.value.useModel4Token||"0")+" Token ",1)]),r("div",zn,[r("span",En,n(e(t)("usercenter.drawingUsageCredits")),1),r("div",Pn,n(f.value.useDrawMjToken||"0")+" "+n(e(t)("usercenter.points")),1)]),u.value&&s.value?(O(),Q("div",Mn,[r("span",Bn,n(e(t)("usercenter.bindWeChat")),1),r("div",An,[C.value?(O(),Q("span",Rn,n(e(t)("usercenter.weChatBound")),1)):(O(),G(e(F),{key:0,text:"",onClick:E[0]||(E[0]=I=>e(o).updateBindwxDialog(!0))},{default:d(()=>[X(n(e(t)("usercenter.clickToBindWeChat")),1)]),_:1}))])])):Z("",!0),x.value>0?(O(),Q("div",In,[r("span",Nn,n(e(t)("usercenter.clickToBindWeChat")),1),r("div",On,[p(e(F),{text:"",onClick:Y},{default:d(()=>[X(n(e(t)("usercenter.syncVisitorData")),1)]),_:1})])])):Z("",!0)])]),f.value.expirationTime?(O(),Q("div",Dn,[r("span",null,n(e(t)("usercenter.membershipExpiration")),1),r("span",null,n(f.value.expirationTime),1)])):Z("",!0)]),_:1})),r("div",{class:Ee(["flex flex-col",[e(m)?"w-full":"flex-1"]]),style:Et({padding:e(m)?"10px":"0 28px 0 28px"})},[p(e(At),{title:e(t)("usercenter.personalCenter"),des:e(t)("usercenter.editInfoDescription"),padding:(e(m),1)},null,8,["title","des","padding"]),p(e(It),{type:"line",animated:"",class:"mt-5 flex-1"},{default:d(()=>[e(c)?(O(),G(e(ue),{key:0,name:"detail",tab:e(t)("usercenter.myDetails")},{default:d(()=>[p(xr)]),_:1},8,["tab"])):Z("",!0),p(e(ue),{name:"account",tab:e(t)("usercenter.myWallet")},{default:d(()=>[p(un)]),_:1},8,["tab"]),p(e(ue),{name:"baseInfo",tab:e(t)("usercenter.basicInfo")},{default:d(()=>[p(e(se),null,{header:d(()=>[l.value||!h.value?(O(),G(e(pe),{key:0,size:"medium",width:"20%"})):(O(),Q("div",Ln,n(e(t)("usercenter.userBasicSettings")),1))]),default:d(()=>[l.value||!h.value?(O(),G(e(Be),{key:0,vertical:""},{default:d(()=>[p(e(pe),{height:"40px",size:"medium"}),p(e(pe),{height:"40px",size:"medium"}),p(e(pe),{height:"80px",size:"medium"})]),_:1})):(O(),G(e(de),{key:1,"x-gap":"12",cols:1},{default:d(()=>[p(e(ee),null,{default:d(()=>[r("div",jn,[r("span",Un,n(g.$t("setting.avatarLink")),1),r("div",Fn,[p(e(le),{value:T.value,"onUpdate:value":E[1]||(E[1]=I=>T.value=I),placeholder:e(t)("usercenter.avatarPlaceholder")},null,8,["value","placeholder"])]),p(e(F),{size:"tiny",text:"",type:"primary",onClick:E[2]||(E[2]=I=>H({avatar:T.value}))},{default:d(()=>[X(n(g.$t("common.update")),1)]),_:1})]),r("div",Wn,[r("span",Hn,n(g.$t("setting.name")),1),r("div",Gn,[p(e(le),{value:z.value,"onUpdate:value":E[3]||(E[3]=I=>z.value=I),placeholder:e(t)("usercenter.usernamePlaceholder"),maxlength:"12","show-count":"",clearable:""},null,8,["value","placeholder"])]),p(e(F),{size:"tiny",text:"",type:"primary",onClick:E[4]||(E[4]=I=>H({username:z.value}))},{default:d(()=>[X(n(g.$t("common.update")),1)]),_:1})])]),_:1})]),_:1}))]),_:1})]),_:1},8,["tab"]),p(e(ue),{name:"password",tab:e(t)("usercenter.passwordManagement")},{default:d(()=>[p(Or)]),_:1},8,["tab"]),p(e(ue),{name:"invite",tab:e(t)("usercenter.inviteBenefits")},{default:d(()=>[p(Er)]),_:1},8,["tab"])]),_:1})],6)]),_:1}))}});export{es as default};
